;;; I believe this is a temporary version of my .emacs that I've been
;;; using.  It has some things stripped out (that likely didn't work
;;; in Aquamacs), and has a few small additions).

(set-background-color "black")
(set-foreground-color "white")

(setq user-full-name "Cameron Desautels")
(setq user-mail-address "camdez@gmail.com")
(setq user-copyright-holder "Cameron Desautels")           ;my creation

(setq inhibit-startup-message t)
(setq visible-bell t)
(blink-cursor-mode -1)                  ; make the bloody cursor stop blinking
(setq x-stretch-cursor t)               ; make the cursor wide over spaces, etc.
(setq-default indent-tabs-mode nil)     ; use spaces (not tabs) for indenting
(setq kill-ring-max 10)                 ; don't save too many kills (I don't use many)
(setq require-final-newline t)          ; always terminate last line in file
(setq default-major-mode 'text-mode)    ; default mode is text mode
(setq default-indicate-empty-lines t)   ; mark the end of the buffer

(global-font-lock-mode t)               ; use syntax highlighting
(show-paren-mode t)                     ; highlight matching parentheses
(setq show-paren-style 'mixed)
(setq show-paren-style 'parenthesis)
(setq blink-matching-paren nil)

(setq transient-mark-mode nil)

(setq-default truncate-lines t)

(which-func-mode t)                     ; show current function in modeline
(setq display-time-day-and-date nil)      ; display day and date
;(display-time)                          ; display the time

(setq frame-title-format "Emacs: %b %+%+ %f")
(setq ange-ftp-ftp-program-name "ftp")

;; This needs to be a mode-hook, in emacs22 it requires that we are in CC mode
;(c-set-style "bsd")                     ; set the c-indentation style to GNU style
(setq-default tab-width 2)
(setq-default c-basic-offset 2)

(mouse-wheel-mode 1)                    ; make the mouse wheel work
(auto-image-file-mode 1)                ; open images as images
(auto-compression-mode 1)               ; automagically explore compressed files when visited
(menu-bar-mode -1)                      ; hide the menu bar
;(tool-bar-mode -1)                      ; hide the tool bar
;(scroll-bar-mode -1)            ; put the scroll bar on the right where it should be

;; Enable disabled operations
(put 'upcase-region 'disabled nil)
(put 'narrow-to-region 'disabled nil)
(put 'set-goal-column 'disabled nil)
(put 'dired-find-alternate-file 'disabled nil)

;; Disable annoying operations
(put 'overwrite-mode 'disabled t)

;; Be smart and don't display my passwords in shell mode...
(add-hook 'comint-output-filter-functions
          'comint-watch-for-password-prompt)

;; Start text mode with auto-fill on
(add-hook 'text-mode-hook 'turn-on-auto-fill)

;; Autoinsert text into empty files where defined
(add-hook 'find-file-hooks 'auto-insert)

;; Automagically turn on eldoc mode for emacs-lisp buffers
(add-hook 'emacs-lisp-mode-hook 'eldoc-mode)

;; Don't insert spaces when inserting parentheses
(add-hook 'php-mode-hook '(lambda ()
                            (setq parens-require-spaces nil)))

;; Use awesome buffer switching mode
(if (> emacs-major-version 21)
    (iswitchb-mode 1)
  (iswitchb-default-keybindings))

;;; KEYBINDINGS
(global-set-key [f2] 'goto-line)
(global-set-key [f3] (lambda ()
                       (interactive)
                       (switch-to-buffer (other-buffer))))
(global-set-key [f8] 'eshell)
(global-set-key [f9] 'speedbar)
; If running under X, have [f10] toggle display of menu-bar (and
; tool-bar) instead of running tmm-menubar.  Don't toggle one off and
; one on.
(if window-system
    (global-set-key [f10] (lambda ()
                            (interactive)
                            (when (y-or-n-p "Are you sure you want to toggle the chrome? ")
                              (if (eq menu-bar-mode tool-bar-mode)
                                  (progn
                                    (menu-bar-mode nil)
                                    (tool-bar-mode))
                                (menu-bar-mode nil))))))
(global-set-key [f11] 'compile)
(global-set-key [f12] 'recompile)
(global-set-key [del] 'delete-char)
;(global-set-key "\C-x0" 'delete-window-replacement)
;(global-set-key "\C-x1" 'delete-other-windows-replacement)
(global-set-key "\C-x4k" 'kill-buffer-other-window)
(global-set-key [C-right] 'next-buffer)
(global-set-key [C-left] 'prev-buffer)
(global-set-key [C-up] 'next-buffer-same-file-basename)
; This practially makes the previous line useless, but the differences
; should be investigated.
(global-set-key "\M-`" 'ff-find-other-file)
(global-set-key "\M-o" 'occur)

(global-set-key "\C-cf" 'auto-fill-mode)
(global-set-key "\C-cl" 'goto-line)
(global-set-key "\C-ch" 'hl-line-mode)

;; For Aquamacs TODO make conditional
(setq mac-command-modifier 'meta)
(setq x-select-enable-clipboard t)

(setq mac-allow-anti-aliasing t)
;; To turn off antialiasing (looks like crap with current font)
;(setq mac-allow-anti-aliasing nil)
;defaults write org.gnu.AquamacsEmacs AppleAntiAliasingThreshold 0

;; Set css-indent-offset to 2
(server-start)
